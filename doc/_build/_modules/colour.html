<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>colour &#8212; SenseHAT Utility 0.1.0 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css"/>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css"/>
    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT: '../',
            VERSION: '0.1.0',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE: true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html"/>
    <link rel="search" title="Search" href="../search.html"/>
</head>
<body>
<div class="related" role="navigation" aria-label="related navigation">
    <h3>Navigation</h3>
    <ul>
        <li class="right" style="margin-right: 10px">
            <a href="../genindex.html" title="General Index"
               accesskey="I">index</a></li>
        <li class="right">
            <a href="../py-modindex.html" title="Python Module Index"
            >modules</a> |
        </li>
        <li class="nav-item nav-item-0"><a href="../index.html">SenseHAT Utility 0.1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Module code</a> &#187;</li>
    </ul>
</div>

<div class="document">
    <div class="documentwrapper">
        <div class="bodywrapper">
            <div class="body" role="main">

                <h1>Source code for colour</h1>
                <div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;Color Library</span>

<span class="sd">.. :doctest:</span>

<span class="sd">This module defines several color formats that can be converted to one or</span>
<span class="sd">another.</span>

<span class="sd">Formats</span>
<span class="sd">-------</span>

<span class="sd">HSL:</span>
<span class="sd">    3-uple of Hue, Saturation, Lightness all between 0.0 and 1.0</span>

<span class="sd">RGB:</span>
<span class="sd">    3-uple of Red, Green, Blue all between 0.0 and 1.0</span>

<span class="sd">HEX:</span>
<span class="sd">    string object beginning with &#39;#&#39; and with red, green, blue value.</span>
<span class="sd">    This format accept color in 3 or 6 value ex: &#39;#fff&#39; or &#39;#ffffff&#39;</span>

<span class="sd">WEB:</span>
<span class="sd">    string object that defaults to HEX representation or human if possible</span>

<span class="sd">Usage</span>
<span class="sd">-----</span>

<span class="sd">Several function exists to convert from one format to another. But all</span>
<span class="sd">function are not written. So the best way is to use the object Color.</span>

<span class="sd">Please see the documentation of this object for more information.</span>

<span class="sd">.. note:: Some constants are defined for convenience in HSL, RGB, HEX</span>

<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">with_statement</span><span
                        class="p">,</span> <span class="n">print_function</span>

<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">sys</span>


<span class="c1">##</span>
<span class="c1">## Some Constants</span>
<span class="c1">##</span>

<span class="c1">## Soften inequalities and some rounding issue based on float</span>
<span class="n">FLOAT_ERROR</span> <span class="o">=</span> <span class="mf">0.0000005</span>


<span class="n">RGB_TO_COLOR_NAMES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span
                        class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Black&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span
                        class="p">,</span> <span class="mi">128</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Navy&#39;</span><span class="p">,</span> <span
                        class="s1">&#39;NavyBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span
                        class="p">,</span> <span class="mi">139</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;DarkBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span
                        class="p">,</span> <span class="mi">205</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;MediumBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span
                        class="p">,</span> <span class="mi">255</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Blue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span
                        class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;DarkGreen&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">128</span><span
                        class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Green&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">139</span><span
                        class="p">,</span> <span class="mi">139</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;DarkCyan&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">191</span><span
                        class="p">,</span> <span class="mi">255</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;DeepSkyBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">206</span><span
                        class="p">,</span> <span class="mi">209</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;DarkTurquoise&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">250</span><span
                        class="p">,</span> <span class="mi">154</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;MediumSpringGreen&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span
                        class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Lime&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span
                        class="p">,</span> <span class="mi">127</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;SpringGreen&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span
                        class="p">,</span> <span class="mi">255</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Cyan&#39;</span><span class="p">,</span> <span
                        class="s1">&#39;Aqua&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">25</span><span
                        class="p">,</span> <span class="mi">112</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;MidnightBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">144</span><span
                        class="p">,</span> <span class="mi">255</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;DodgerBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">178</span><span
                        class="p">,</span> <span class="mi">170</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;LightSeaGreen&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">34</span><span class="p">,</span> <span class="mi">139</span><span
                        class="p">,</span> <span class="mi">34</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;ForestGreen&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">46</span><span class="p">,</span> <span class="mi">139</span><span
                        class="p">,</span> <span class="mi">87</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;SeaGreen&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">47</span><span class="p">,</span> <span class="mi">79</span><span
                        class="p">,</span> <span class="mi">79</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;DarkSlateGray&#39;</span><span class="p">,</span> <span
                        class="s1">&#39;DarkSlateGrey&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">205</span><span
                        class="p">,</span> <span class="mi">50</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;LimeGreen&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">179</span><span
                        class="p">,</span> <span class="mi">113</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;MediumSeaGreen&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="mi">224</span><span
                        class="p">,</span> <span class="mi">208</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Turquoise&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">65</span><span class="p">,</span> <span class="mi">105</span><span
                        class="p">,</span> <span class="mi">225</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;RoyalBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="mi">130</span><span
                        class="p">,</span> <span class="mi">180</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;SteelBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">72</span><span class="p">,</span> <span class="mi">61</span><span
                        class="p">,</span> <span class="mi">139</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;DarkSlateBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">72</span><span class="p">,</span> <span class="mi">209</span><span
                        class="p">,</span> <span class="mi">204</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;MediumTurquoise&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span
                        class="mi">130</span><span class="p">):</span> <span class="p">[</span><span class="s1">&#39;Indigo&#39;</span><span
                        class="p">],</span>
    <span class="p">(</span><span class="mi">85</span><span class="p">,</span> <span class="mi">107</span><span
                        class="p">,</span> <span class="mi">47</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;DarkOliveGreen&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">95</span><span class="p">,</span> <span class="mi">158</span><span
                        class="p">,</span> <span class="mi">160</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;CadetBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">149</span><span
                        class="p">,</span> <span class="mi">237</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;CornflowerBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">102</span><span class="p">,</span> <span class="mi">205</span><span
                        class="p">,</span> <span class="mi">170</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;MediumAquamarine&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">105</span><span class="p">,</span> <span class="mi">105</span><span
                        class="p">,</span> <span class="mi">105</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;DimGray&#39;</span><span class="p">,</span> <span
                        class="s1">&#39;DimGrey&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">106</span><span class="p">,</span> <span class="mi">90</span><span
                        class="p">,</span> <span class="mi">205</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;SlateBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">107</span><span class="p">,</span> <span class="mi">142</span><span
                        class="p">,</span> <span class="mi">35</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;OliveDrab&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">112</span><span class="p">,</span> <span class="mi">128</span><span
                        class="p">,</span> <span class="mi">144</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;SlateGray&#39;</span><span class="p">,</span> <span class="s1">&#39;SlateGrey&#39;</span><span
                        class="p">],</span>
    <span class="p">(</span><span class="mi">119</span><span class="p">,</span> <span class="mi">136</span><span
                        class="p">,</span> <span class="mi">153</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;LightSlateGray&#39;</span><span class="p">,</span> <span class="s1">&#39;LightSlateGrey&#39;</span><span
                        class="p">],</span>
    <span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="mi">104</span><span
                        class="p">,</span> <span class="mi">238</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;MediumSlateBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">124</span><span class="p">,</span> <span class="mi">252</span><span
                        class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;LawnGreen&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">127</span><span class="p">,</span> <span class="mi">255</span><span
                        class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Chartreuse&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">127</span><span class="p">,</span> <span class="mi">255</span><span
                        class="p">,</span> <span class="mi">212</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Aquamarine&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">0</span><span
                        class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Maroon&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">0</span><span
                        class="p">,</span> <span class="mi">128</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Purple&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span
                        class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Olive&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span
                        class="p">,</span> <span class="mi">128</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Gray&#39;</span><span class="p">,</span> <span
                        class="s1">&#39;Grey&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">132</span><span class="p">,</span> <span class="mi">112</span><span
                        class="p">,</span> <span class="mi">255</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;LightSlateBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">135</span><span class="p">,</span> <span class="mi">206</span><span
                        class="p">,</span> <span class="mi">235</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;SkyBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">135</span><span class="p">,</span> <span class="mi">206</span><span
                        class="p">,</span> <span class="mi">250</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;LightSkyBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">138</span><span class="p">,</span> <span class="mi">43</span><span
                        class="p">,</span> <span class="mi">226</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;BlueViolet&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">139</span><span class="p">,</span> <span class="mi">0</span><span
                        class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;DarkRed&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">139</span><span class="p">,</span> <span class="mi">0</span><span
                        class="p">,</span> <span class="mi">139</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;DarkMagenta&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">139</span><span class="p">,</span> <span class="mi">69</span><span
                        class="p">,</span> <span class="mi">19</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;SaddleBrown&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">143</span><span class="p">,</span> <span class="mi">188</span><span
                        class="p">,</span> <span class="mi">143</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;DarkSeaGreen&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">144</span><span class="p">,</span> <span class="mi">238</span><span
                        class="p">,</span> <span class="mi">144</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;LightGreen&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">147</span><span class="p">,</span> <span class="mi">112</span><span
                        class="p">,</span> <span class="mi">219</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;MediumPurple&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">148</span><span class="p">,</span> <span class="mi">0</span><span
                        class="p">,</span> <span class="mi">211</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;DarkViolet&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">152</span><span class="p">,</span> <span class="mi">251</span><span
                        class="p">,</span> <span class="mi">152</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;PaleGreen&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">153</span><span class="p">,</span> <span class="mi">50</span><span
                        class="p">,</span> <span class="mi">204</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;DarkOrchid&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">154</span><span class="p">,</span> <span class="mi">205</span><span
                        class="p">,</span> <span class="mi">50</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;YellowGreen&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">160</span><span class="p">,</span> <span class="mi">82</span><span
                        class="p">,</span> <span class="mi">45</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Sienna&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">165</span><span class="p">,</span> <span class="mi">42</span><span
                        class="p">,</span> <span class="mi">42</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Brown&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">169</span><span class="p">,</span> <span class="mi">169</span><span
                        class="p">,</span> <span class="mi">169</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;DarkGray&#39;</span><span class="p">,</span> <span
                        class="s1">&#39;DarkGrey&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">173</span><span class="p">,</span> <span class="mi">216</span><span
                        class="p">,</span> <span class="mi">230</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;LightBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">173</span><span class="p">,</span> <span class="mi">255</span><span
                        class="p">,</span> <span class="mi">47</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;GreenYellow&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">175</span><span class="p">,</span> <span class="mi">238</span><span
                        class="p">,</span> <span class="mi">238</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;PaleTurquoise&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">176</span><span class="p">,</span> <span class="mi">196</span><span
                        class="p">,</span> <span class="mi">222</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;LightSteelBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">176</span><span class="p">,</span> <span class="mi">224</span><span
                        class="p">,</span> <span class="mi">230</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;PowderBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">178</span><span class="p">,</span> <span class="mi">34</span><span
                        class="p">,</span> <span class="mi">34</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Firebrick&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">184</span><span class="p">,</span> <span class="mi">134</span><span
                        class="p">,</span> <span class="mi">11</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;DarkGoldenrod&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">186</span><span class="p">,</span> <span class="mi">85</span><span
                        class="p">,</span> <span class="mi">211</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;MediumOrchid&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">188</span><span class="p">,</span> <span class="mi">143</span><span
                        class="p">,</span> <span class="mi">143</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;RosyBrown&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">189</span><span class="p">,</span> <span class="mi">183</span><span
                        class="p">,</span> <span class="mi">107</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;DarkKhaki&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">192</span><span class="p">,</span> <span class="mi">192</span><span
                        class="p">,</span> <span class="mi">192</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Silver&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">199</span><span class="p">,</span> <span class="mi">21</span><span
                        class="p">,</span> <span class="mi">133</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;MediumVioletRed&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">205</span><span class="p">,</span> <span class="mi">92</span><span
                        class="p">,</span> <span class="mi">92</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;IndianRed&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">205</span><span class="p">,</span> <span class="mi">133</span><span
                        class="p">,</span> <span class="mi">63</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Peru&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">208</span><span class="p">,</span> <span class="mi">32</span><span
                        class="p">,</span> <span class="mi">144</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;VioletRed&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">210</span><span class="p">,</span> <span class="mi">105</span><span
                        class="p">,</span> <span class="mi">30</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Chocolate&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">210</span><span class="p">,</span> <span class="mi">180</span><span
                        class="p">,</span> <span class="mi">140</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Tan&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">211</span><span class="p">,</span> <span class="mi">211</span><span
                        class="p">,</span> <span class="mi">211</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;LightGray&#39;</span><span class="p">,</span> <span class="s1">&#39;LightGrey&#39;</span><span
                        class="p">],</span>
    <span class="p">(</span><span class="mi">216</span><span class="p">,</span> <span class="mi">191</span><span
                        class="p">,</span> <span class="mi">216</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Thistle&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">218</span><span class="p">,</span> <span class="mi">112</span><span
                        class="p">,</span> <span class="mi">214</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Orchid&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">218</span><span class="p">,</span> <span class="mi">165</span><span
                        class="p">,</span> <span class="mi">32</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Goldenrod&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">219</span><span class="p">,</span> <span class="mi">112</span><span
                        class="p">,</span> <span class="mi">147</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;PaleVioletRed&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">220</span><span class="p">,</span> <span class="mi">20</span><span
                        class="p">,</span> <span class="mi">60</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Crimson&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">220</span><span class="p">,</span> <span class="mi">220</span><span
                        class="p">,</span> <span class="mi">220</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Gainsboro&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">221</span><span class="p">,</span> <span class="mi">160</span><span
                        class="p">,</span> <span class="mi">221</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Plum&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">222</span><span class="p">,</span> <span class="mi">184</span><span
                        class="p">,</span> <span class="mi">135</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Burlywood&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">224</span><span class="p">,</span> <span class="mi">255</span><span
                        class="p">,</span> <span class="mi">255</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;LightCyan&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">230</span><span class="p">,</span> <span class="mi">230</span><span
                        class="p">,</span> <span class="mi">250</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Lavender&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">233</span><span class="p">,</span> <span class="mi">150</span><span
                        class="p">,</span> <span class="mi">122</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;DarkSalmon&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">238</span><span class="p">,</span> <span class="mi">130</span><span
                        class="p">,</span> <span class="mi">238</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Violet&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">238</span><span class="p">,</span> <span class="mi">221</span><span
                        class="p">,</span> <span class="mi">130</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;LightGoldenrod&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">238</span><span class="p">,</span> <span class="mi">232</span><span
                        class="p">,</span> <span class="mi">170</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;PaleGoldenrod&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">240</span><span class="p">,</span> <span class="mi">128</span><span
                        class="p">,</span> <span class="mi">128</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;LightCoral&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">240</span><span class="p">,</span> <span class="mi">230</span><span
                        class="p">,</span> <span class="mi">140</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Khaki&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">240</span><span class="p">,</span> <span class="mi">248</span><span
                        class="p">,</span> <span class="mi">255</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;AliceBlue&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">240</span><span class="p">,</span> <span class="mi">255</span><span
                        class="p">,</span> <span class="mi">240</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Honeydew&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">240</span><span class="p">,</span> <span class="mi">255</span><span
                        class="p">,</span> <span class="mi">255</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Azure&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">244</span><span class="p">,</span> <span class="mi">164</span><span
                        class="p">,</span> <span class="mi">96</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;SandyBrown&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">245</span><span class="p">,</span> <span class="mi">222</span><span
                        class="p">,</span> <span class="mi">179</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Wheat&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">245</span><span class="p">,</span> <span class="mi">245</span><span
                        class="p">,</span> <span class="mi">220</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Beige&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">245</span><span class="p">,</span> <span class="mi">245</span><span
                        class="p">,</span> <span class="mi">245</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;WhiteSmoke&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">245</span><span class="p">,</span> <span class="mi">255</span><span
                        class="p">,</span> <span class="mi">250</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;MintCream&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">248</span><span class="p">,</span> <span class="mi">248</span><span
                        class="p">,</span> <span class="mi">255</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;GhostWhite&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">128</span><span
                        class="p">,</span> <span class="mi">114</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Salmon&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">235</span><span
                        class="p">,</span> <span class="mi">215</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;AntiqueWhite&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">240</span><span
                        class="p">,</span> <span class="mi">230</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Linen&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span
                        class="p">,</span> <span class="mi">210</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;LightGoldenrodYellow&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">253</span><span class="p">,</span> <span class="mi">245</span><span
                        class="p">,</span> <span class="mi">230</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;OldLace&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span
                        class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Red&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span
                        class="p">,</span> <span class="mi">255</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Magenta&#39;</span><span class="p">,</span> <span
                        class="s1">&#39;Fuchsia&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">20</span><span
                        class="p">,</span> <span class="mi">147</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;DeepPink&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">69</span><span
                        class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;OrangeRed&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">99</span><span
                        class="p">,</span> <span class="mi">71</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Tomato&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">105</span><span
                        class="p">,</span> <span class="mi">180</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;HotPink&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">127</span><span
                        class="p">,</span> <span class="mi">80</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Coral&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">140</span><span
                        class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;DarkOrange&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">160</span><span
                        class="p">,</span> <span class="mi">122</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;LightSalmon&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">165</span><span
                        class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Orange&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">182</span><span
                        class="p">,</span> <span class="mi">193</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;LightPink&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">192</span><span
                        class="p">,</span> <span class="mi">203</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Pink&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">215</span><span
                        class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Gold&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">218</span><span
                        class="p">,</span> <span class="mi">185</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;PeachPuff&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">222</span><span
                        class="p">,</span> <span class="mi">173</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;NavajoWhite&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">228</span><span
                        class="p">,</span> <span class="mi">181</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Moccasin&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">228</span><span
                        class="p">,</span> <span class="mi">196</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Bisque&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">228</span><span
                        class="p">,</span> <span class="mi">225</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;MistyRose&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">235</span><span
                        class="p">,</span> <span class="mi">205</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;BlanchedAlmond&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">239</span><span
                        class="p">,</span> <span class="mi">213</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;PapayaWhip&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">240</span><span
                        class="p">,</span> <span class="mi">245</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;LavenderBlush&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">245</span><span
                        class="p">,</span> <span class="mi">238</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Seashell&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">248</span><span
                        class="p">,</span> <span class="mi">220</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Cornsilk&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">250</span><span
                        class="p">,</span> <span class="mi">205</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;LemonChiffon&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">250</span><span
                        class="p">,</span> <span class="mi">240</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;FloralWhite&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">250</span><span
                        class="p">,</span> <span class="mi">250</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Snow&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span
                        class="p">,</span> <span class="mi">0</span><span class="p">):</span> <span
                        class="p">[</span><span class="s1">&#39;Yellow&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span
                        class="p">,</span> <span class="mi">224</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;LightYellow&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span
                        class="p">,</span> <span class="mi">240</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;Ivory&#39;</span><span class="p">],</span>
    <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span
                        class="p">,</span> <span class="mi">255</span><span class="p">):</span> <span class="p">[</span><span
                        class="s1">&#39;White&#39;</span><span class="p">]</span>
<span class="p">}</span>

<span class="c1">## Building inverse relation</span>
<span class="n">COLOR_NAME_TO_RGB</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="p">(</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span
                        class="p">(),</span> <span class="n">rgb</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">rgb</span><span class="p">,</span> <span class="n">names</span> <span
                        class="ow">in</span> <span class="n">RGB_TO_COLOR_NAMES</span><span class="o">.</span><span
                        class="n">items</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span
                        class="p">)</span>


<span class="n">LONG_HEX_COLOR</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span
                        class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^#[0-9a-fA-F]</span><span
                        class="si">{6}</span><span class="s1">$&#39;</span><span class="p">)</span>
<span class="n">SHORT_HEX_COLOR</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span
                        class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^#[0-9a-fA-F]</span><span
                        class="si">{3}</span><span class="s1">$&#39;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">C_HSL</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span
                        class="bp">self</span><span class="p">,</span> <span class="n">value</span><span
                        class="p">):</span>
        <span class="n">label</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span
                        class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">COLOR_NAME_TO_RGB</span><span
                        class="p">:</span>
            <span class="k">return</span> <span class="n">rgb2hsl</span><span class="p">(</span><span
                        class="nb">tuple</span><span class="p">(</span><span class="n">v</span> <span class="o">/</span> <span
                        class="mf">255.</span> <span class="k">for</span> <span class="n">v</span> <span
                        class="ow">in</span> <span class="n">COLOR_NAME_TO_RGB</span><span class="p">[</span><span
                        class="n">label</span><span class="p">]))</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;</span><span
                        class="si">%s</span><span class="s2"> instance has no attribute </span><span
                        class="si">%r</span><span class="s2">&quot;</span>
                             <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span
                        class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="n">value</span><span
                        class="p">))</span>


<span class="n">HSL</span> <span class="o">=</span> <span class="n">C_HSL</span><span class="p">()</span>


<span class="k">class</span> <span class="nc">C_RGB</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;RGB colors container</span>

<span class="sd">    Provides a quick color access.</span>

<span class="sd">    &gt;&gt;&gt; from colour import RGB</span>

<span class="sd">    &gt;&gt;&gt; RGB.WHITE</span>
<span class="sd">    (1.0, 1.0, 1.0)</span>
<span class="sd">    &gt;&gt;&gt; RGB.BLUE</span>
<span class="sd">    (0.0, 0.0, 1.0)</span>

<span class="sd">    &gt;&gt;&gt; RGB.DONOTEXISTS  # doctest: +ELLIPSIS</span>
<span class="sd">    Traceback (most recent call last):</span>
<span class="sd">    ...</span>
<span class="sd">    AttributeError: ... has no attribute &#39;DONOTEXISTS&#39;</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span
                        class="bp">self</span><span class="p">,</span> <span class="n">value</span><span
                        class="p">):</span>
        <span class="k">return</span> <span class="n">hsl2rgb</span><span class="p">(</span><span
                        class="nb">getattr</span><span class="p">(</span><span class="n">HSL</span><span
                        class="p">,</span> <span class="n">value</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">C_HEX</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;RGB colors container</span>

<span class="sd">    Provides a quick color access.</span>

<span class="sd">    &gt;&gt;&gt; from colour import HEX</span>

<span class="sd">    &gt;&gt;&gt; HEX.WHITE</span>
<span class="sd">    &#39;#fff&#39;</span>
<span class="sd">    &gt;&gt;&gt; HEX.BLUE</span>
<span class="sd">    &#39;#00f&#39;</span>

<span class="sd">    &gt;&gt;&gt; HEX.DONOTEXISTS  # doctest: +ELLIPSIS</span>
<span class="sd">    Traceback (most recent call last):</span>
<span class="sd">    ...</span>
<span class="sd">    AttributeError: ... has no attribute &#39;DONOTEXISTS&#39;</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span
                        class="bp">self</span><span class="p">,</span> <span class="n">value</span><span
                        class="p">):</span>
        <span class="k">return</span> <span class="n">rgb2hex</span><span class="p">(</span><span
                        class="nb">getattr</span><span class="p">(</span><span class="n">RGB</span><span
                        class="p">,</span> <span class="n">value</span><span class="p">))</span>

<span class="n">RGB</span> <span class="o">=</span> <span class="n">C_RGB</span><span class="p">()</span>
<span class="n">HEX</span> <span class="o">=</span> <span class="n">C_HEX</span><span class="p">()</span>


<span class="c1">##</span>
<span class="c1">## Conversion function</span>
<span class="c1">##</span>

<span class="k">def</span> <span class="nf">hsl2rgb</span><span class="p">(</span><span class="n">hsl</span><span
                        class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convert HSL representation towards RGB</span>

<span class="sd">    :param h: Hue, position around the chromatic circle (h=1 equiv h=0)</span>
<span class="sd">    :param s: Saturation, color saturation (0=full gray, 1=full color)</span>
<span class="sd">    :param l: Ligthness, Overhaul lightness (0=full black, 1=full white)</span>
<span class="sd">    :rtype: 3-uple for RGB values in float between 0 and 1</span>

<span class="sd">    Hue, Saturation, Range from Lightness is a float between 0 and 1</span>

<span class="sd">    Note that Hue can be set to any value but as it is a rotation</span>
<span class="sd">    around the chromatic circle, any value above 1 or below 0 can</span>
<span class="sd">    be expressed by a value between 0 and 1 (Note that h=0 is equiv</span>
<span class="sd">    to h=1).</span>

<span class="sd">    This algorithm came from:</span>
<span class="sd">    http://www.easyrgb.com/index.php?X=MATH&amp;H=19#text19</span>

<span class="sd">    Here are some quick notion of HSL to RGB conversion:</span>

<span class="sd">    &gt;&gt;&gt; from colour import hsl2rgb</span>

<span class="sd">    With a lightness put at 0, RGB is always rgbblack</span>

<span class="sd">    &gt;&gt;&gt; hsl2rgb((0.0, 0.0, 0.0))</span>
<span class="sd">    (0.0, 0.0, 0.0)</span>
<span class="sd">    &gt;&gt;&gt; hsl2rgb((0.5, 0.0, 0.0))</span>
<span class="sd">    (0.0, 0.0, 0.0)</span>
<span class="sd">    &gt;&gt;&gt; hsl2rgb((0.5, 0.5, 0.0))</span>
<span class="sd">    (0.0, 0.0, 0.0)</span>

<span class="sd">    Same for lightness put at 1, RGB is always rgbwhite</span>

<span class="sd">    &gt;&gt;&gt; hsl2rgb((0.0, 0.0, 1.0))</span>
<span class="sd">    (1.0, 1.0, 1.0)</span>
<span class="sd">    &gt;&gt;&gt; hsl2rgb((0.5, 0.0, 1.0))</span>
<span class="sd">    (1.0, 1.0, 1.0)</span>
<span class="sd">    &gt;&gt;&gt; hsl2rgb((0.5, 0.5, 1.0))</span>
<span class="sd">    (1.0, 1.0, 1.0)</span>

<span class="sd">    With saturation put at 0, the RGB should be equal to Lightness:</span>

<span class="sd">    &gt;&gt;&gt; hsl2rgb((0.0, 0.0, 0.25))</span>
<span class="sd">    (0.25, 0.25, 0.25)</span>
<span class="sd">    &gt;&gt;&gt; hsl2rgb((0.5, 0.0, 0.5))</span>
<span class="sd">    (0.5, 0.5, 0.5)</span>
<span class="sd">    &gt;&gt;&gt; hsl2rgb((0.5, 0.0, 0.75))</span>
<span class="sd">    (0.75, 0.75, 0.75)</span>

<span class="sd">    With saturation put at 1, and lightness put to 0.5, we can find</span>
<span class="sd">    normal full red, green, blue colors:</span>

<span class="sd">    &gt;&gt;&gt; hsl2rgb((0 , 1.0, 0.5))</span>
<span class="sd">    (1.0, 0.0, 0.0)</span>
<span class="sd">    &gt;&gt;&gt; hsl2rgb((1 , 1.0, 0.5))</span>
<span class="sd">    (1.0, 0.0, 0.0)</span>
<span class="sd">    &gt;&gt;&gt; hsl2rgb((1.0/3 , 1.0, 0.5))</span>
<span class="sd">    (0.0, 1.0, 0.0)</span>
<span class="sd">    &gt;&gt;&gt; hsl2rgb((2.0/3 , 1.0, 0.5))</span>
<span class="sd">    (0.0, 0.0, 1.0)</span>

<span class="sd">    Of course:</span>
<span class="sd">    &gt;&gt;&gt; hsl2rgb((0.0, 2.0, 0.5))  # doctest: +ELLIPSIS</span>
<span class="sd">    Traceback (most recent call last):</span>
<span class="sd">    ...</span>
<span class="sd">    ValueError: Saturation must be between 0 and 1.</span>

<span class="sd">    And:</span>
<span class="sd">    &gt;&gt;&gt; hsl2rgb((0.0, 0.0, 1.5))  # doctest: +ELLIPSIS</span>
<span class="sd">    Traceback (most recent call last):</span>
<span class="sd">    ...</span>
<span class="sd">    ValueError: Lightness must be between 0 and 1.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">h</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span
                        class="n">l</span> <span class="o">=</span> <span class="p">[</span><span
                        class="nb">float</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span
                        class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span
                        class="n">hsl</span><span class="p">]</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mf">0.0</span> <span
                        class="o">-</span> <span class="n">FLOAT_ERROR</span> <span class="o">&lt;=</span> <span
                        class="n">s</span> <span class="o">&lt;=</span> <span class="mf">1.0</span> <span
                        class="o">+</span> <span class="n">FLOAT_ERROR</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Saturation must be between 0 and 1.&quot;</span><span
                        class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mf">0.0</span> <span
                        class="o">-</span> <span class="n">FLOAT_ERROR</span> <span class="o">&lt;=</span> <span
                        class="n">l</span> <span class="o">&lt;=</span> <span class="mf">1.0</span> <span
                        class="o">+</span> <span class="n">FLOAT_ERROR</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Lightness must be between 0 and 1.&quot;</span><span
                        class="p">)</span>

    <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="mi">0</span><span
                        class="p">:</span>
        <span class="k">return</span> <span class="n">l</span><span class="p">,</span> <span class="n">l</span><span
                        class="p">,</span> <span class="n">l</span>

    <span class="k">if</span> <span class="n">l</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span
                        class="p">:</span>
        <span class="n">v2</span> <span class="o">=</span> <span class="n">l</span> <span class="o">*</span> <span
                        class="p">(</span><span class="mf">1.0</span> <span class="o">+</span> <span
                        class="n">s</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">v2</span> <span class="o">=</span> <span class="p">(</span><span class="n">l</span> <span
                        class="o">+</span> <span class="n">s</span><span class="p">)</span> <span
                        class="o">-</span> <span class="p">(</span><span class="n">s</span> <span
                        class="o">*</span> <span class="n">l</span><span class="p">)</span>

    <span class="n">v1</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">*</span> <span
                        class="n">l</span> <span class="o">-</span> <span class="n">v2</span>

    <span class="n">r</span> <span class="o">=</span> <span class="n">_hue2rgb</span><span class="p">(</span><span
                        class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span
                        class="p">,</span> <span class="n">h</span> <span class="o">+</span> <span
                        class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="mi">3</span><span
                        class="p">))</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">_hue2rgb</span><span class="p">(</span><span
                        class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span
                        class="p">,</span> <span class="n">h</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">_hue2rgb</span><span class="p">(</span><span
                        class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span
                        class="p">,</span> <span class="n">h</span> <span class="o">-</span> <span
                        class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="mi">3</span><span
                        class="p">))</span>

    <span class="k">return</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span
                        class="p">,</span> <span class="n">b</span>


<span class="k">def</span> <span class="nf">rgb2hsl</span><span class="p">(</span><span class="n">rgb</span><span
                        class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convert RGB representation towards HSL</span>

<span class="sd">    :param r: Red amount (float between 0 and 1)</span>
<span class="sd">    :param g: Green amount (float between 0 and 1)</span>
<span class="sd">    :param b: Blue amount (float between 0 and 1)</span>
<span class="sd">    :rtype: 3-uple for HSL values in float between 0 and 1</span>

<span class="sd">    This algorithm came from:</span>
<span class="sd">    http://www.easyrgb.com/index.php?X=MATH&amp;H=19#text19</span>

<span class="sd">    Here are some quick notion of RGB to HSL conversion:</span>

<span class="sd">    &gt;&gt;&gt; from colour import rgb2hsl</span>

<span class="sd">    Note that if red amount is equal to green and blue, then you</span>
<span class="sd">    should have a gray value (from black to white).</span>


<span class="sd">    &gt;&gt;&gt; rgb2hsl((1.0, 1.0, 1.0))  # doctest: +ELLIPSIS</span>
<span class="sd">    (..., 0.0, 1.0)</span>
<span class="sd">    &gt;&gt;&gt; rgb2hsl((0.5, 0.5, 0.5))  # doctest: +ELLIPSIS</span>
<span class="sd">    (..., 0.0, 0.5)</span>
<span class="sd">    &gt;&gt;&gt; rgb2hsl((0.0, 0.0, 0.0))  # doctest: +ELLIPSIS</span>
<span class="sd">    (..., 0.0, 0.0)</span>

<span class="sd">    If only one color is different from the others, it defines the</span>
<span class="sd">    direct Hue:</span>

<span class="sd">    &gt;&gt;&gt; rgb2hsl((0.5, 0.5, 1.0))  # doctest: +ELLIPSIS</span>
<span class="sd">    (0.66..., 1.0, 0.75)</span>
<span class="sd">    &gt;&gt;&gt; rgb2hsl((0.2, 0.1, 0.1))  # doctest: +ELLIPSIS</span>
<span class="sd">    (0.0, 0.33..., 0.15...)</span>

<span class="sd">    Having only one value set, you can check that:</span>

<span class="sd">    &gt;&gt;&gt; rgb2hsl((1.0, 0.0, 0.0))</span>
<span class="sd">    (0.0, 1.0, 0.5)</span>
<span class="sd">    &gt;&gt;&gt; rgb2hsl((0.0, 1.0, 0.0))  # doctest: +ELLIPSIS</span>
<span class="sd">    (0.33..., 1.0, 0.5)</span>
<span class="sd">    &gt;&gt;&gt; rgb2hsl((0.0, 0.0, 1.0))  # doctest: +ELLIPSIS</span>
<span class="sd">    (0.66..., 1.0, 0.5)</span>

<span class="sd">    Regression check upon very close values in every component of</span>
<span class="sd">    red, green and blue:</span>

<span class="sd">    &gt;&gt;&gt; rgb2hsl((0.9999999999999999, 1.0, 0.9999999999999994))</span>
<span class="sd">    (0.0, 0.0, 0.999...)</span>

<span class="sd">    Of course:</span>

<span class="sd">    &gt;&gt;&gt; rgb2hsl((0.0, 2.0, 0.5))  # doctest: +ELLIPSIS</span>
<span class="sd">    Traceback (most recent call last):</span>
<span class="sd">    ...</span>
<span class="sd">    ValueError: Green must be between 0 and 1. You provided 2.0.</span>

<span class="sd">    And:</span>
<span class="sd">    &gt;&gt;&gt; rgb2hsl((0.0, 0.0, 1.5))  # doctest: +ELLIPSIS</span>
<span class="sd">    Traceback (most recent call last):</span>
<span class="sd">    ...</span>
<span class="sd">    ValueError: Blue must be between 0 and 1. You provided 1.5.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span
                        class="n">b</span> <span class="o">=</span> <span class="p">[</span><span
                        class="nb">float</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span
                        class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span
                        class="n">rgb</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">v</span> <span
                        class="ow">in</span> <span class="p">{</span><span class="s1">&#39;Red&#39;</span><span
                        class="p">:</span> <span class="n">r</span><span class="p">,</span> <span class="s1">&#39;Green&#39;</span><span
                        class="p">:</span> <span class="n">g</span><span class="p">,</span> <span class="s1">&#39;Blue&#39;</span><span
                        class="p">:</span> <span class="n">b</span><span class="p">}</span><span class="o">.</span><span
                        class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mi">0</span> <span
                        class="o">-</span> <span class="n">FLOAT_ERROR</span> <span class="o">&lt;=</span> <span
                        class="n">v</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span
                        class="o">+</span> <span class="n">FLOAT_ERROR</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;</span><span
                        class="si">%s</span><span class="s2"> must be between 0 and 1. You provided </span><span
                        class="si">%r</span><span class="s2">.&quot;</span>
                             <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span
                        class="p">,</span> <span class="n">v</span><span class="p">))</span>

    <span class="n">vmin</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span
                        class="n">r</span><span class="p">,</span> <span class="n">g</span><span
                        class="p">,</span> <span class="n">b</span><span class="p">)</span>  <span class="c1">## Min. value of RGB</span>
    <span class="n">vmax</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span
                        class="n">r</span><span class="p">,</span> <span class="n">g</span><span
                        class="p">,</span> <span class="n">b</span><span class="p">)</span>  <span class="c1">## Max. value of RGB</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">vmax</span> <span class="o">-</span> <span
                        class="n">vmin</span>   <span class="c1">## Delta RGB value</span>

    <span class="n">vsum</span> <span class="o">=</span> <span class="n">vmin</span> <span class="o">+</span> <span
                        class="n">vmax</span>

    <span class="n">l</span> <span class="o">=</span> <span class="n">vsum</span> <span class="o">/</span> <span
                        class="mi">2</span>

    <span class="k">if</span> <span class="n">diff</span> <span class="o">&lt;</span> <span class="n">FLOAT_ERROR</span><span
                        class="p">:</span>  <span class="c1">## This is a gray, no chroma...</span>
        <span class="k">return</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span
                        class="mf">0.0</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>

    <span class="c1">##</span>
    <span class="c1">## Chromatic data...</span>
    <span class="c1">##</span>

    <span class="c1">## Saturation</span>
    <span class="k">if</span> <span class="n">l</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span
                        class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">diff</span> <span class="o">/</span> <span
                        class="n">vsum</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">diff</span> <span class="o">/</span> <span
                        class="p">(</span><span class="mf">2.0</span> <span class="o">-</span> <span
                        class="n">vsum</span><span class="p">)</span>

    <span class="n">dr</span> <span class="o">=</span> <span class="p">(((</span><span class="n">vmax</span> <span
                        class="o">-</span> <span class="n">r</span><span class="p">)</span> <span
                        class="o">/</span> <span class="mi">6</span><span class="p">)</span> <span
                        class="o">+</span> <span class="p">(</span><span class="n">diff</span> <span class="o">/</span> <span
                        class="mi">2</span><span class="p">))</span> <span class="o">/</span> <span
                        class="n">diff</span>
    <span class="n">dg</span> <span class="o">=</span> <span class="p">(((</span><span class="n">vmax</span> <span
                        class="o">-</span> <span class="n">g</span><span class="p">)</span> <span
                        class="o">/</span> <span class="mi">6</span><span class="p">)</span> <span
                        class="o">+</span> <span class="p">(</span><span class="n">diff</span> <span class="o">/</span> <span
                        class="mi">2</span><span class="p">))</span> <span class="o">/</span> <span
                        class="n">diff</span>
    <span class="n">db</span> <span class="o">=</span> <span class="p">(((</span><span class="n">vmax</span> <span
                        class="o">-</span> <span class="n">b</span><span class="p">)</span> <span
                        class="o">/</span> <span class="mi">6</span><span class="p">)</span> <span
                        class="o">+</span> <span class="p">(</span><span class="n">diff</span> <span class="o">/</span> <span
                        class="mi">2</span><span class="p">))</span> <span class="o">/</span> <span
                        class="n">diff</span>

    <span class="k">if</span> <span class="n">r</span> <span class="o">==</span> <span class="n">vmax</span><span
                        class="p">:</span>
        <span class="n">h</span> <span class="o">=</span> <span class="n">db</span> <span class="o">-</span> <span
                        class="n">dg</span>
    <span class="k">elif</span> <span class="n">g</span> <span class="o">==</span> <span class="n">vmax</span><span
                        class="p">:</span>
        <span class="n">h</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span> <span
                        class="o">/</span> <span class="mi">3</span><span class="p">)</span> <span
                        class="o">+</span> <span class="n">dr</span> <span class="o">-</span> <span class="n">db</span>
    <span class="k">elif</span> <span class="n">b</span> <span class="o">==</span> <span class="n">vmax</span><span
                        class="p">:</span>
        <span class="n">h</span> <span class="o">=</span> <span class="p">(</span><span class="mf">2.0</span> <span
                        class="o">/</span> <span class="mi">3</span><span class="p">)</span> <span
                        class="o">+</span> <span class="n">dg</span> <span class="o">-</span> <span class="n">dr</span>

    <span class="k">if</span> <span class="n">h</span> <span class="o">&lt;</span> <span class="mi">0</span><span
                        class="p">:</span> <span class="n">h</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="n">h</span> <span class="o">&gt;</span> <span class="mi">1</span><span
                        class="p">:</span> <span class="n">h</span> <span class="o">-=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">h</span><span class="p">,</span> <span
                        class="n">s</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_hue2rgb</span><span class="p">(</span><span class="n">v1</span><span
                        class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span
                        class="n">vH</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Private helper function (Do not call directly)</span>

<span class="sd">    :param vH: rotation around the chromatic circle (between 0..1)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">while</span> <span class="n">vH</span> <span class="o">&lt;</span> <span class="mi">0</span><span
                        class="p">:</span> <span class="n">vH</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="n">vH</span> <span class="o">&gt;</span> <span class="mi">1</span><span
                        class="p">:</span> <span class="n">vH</span> <span class="o">-=</span> <span class="mi">1</span>

    <span class="k">if</span> <span class="mi">6</span> <span class="o">*</span> <span class="n">vH</span> <span
                        class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span> <span
                        class="k">return</span> <span class="n">v1</span> <span class="o">+</span> <span
                        class="p">(</span><span class="n">v2</span> <span class="o">-</span> <span
                        class="n">v1</span><span class="p">)</span> <span class="o">*</span> <span
                        class="mi">6</span> <span class="o">*</span> <span class="n">vH</span>
    <span class="k">if</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">vH</span> <span
                        class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span> <span
                        class="k">return</span> <span class="n">v2</span>
    <span class="k">if</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">vH</span> <span
                        class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span> <span
                        class="k">return</span> <span class="n">v1</span> <span class="o">+</span> <span
                        class="p">(</span><span class="n">v2</span> <span class="o">-</span> <span
                        class="n">v1</span><span class="p">)</span> <span class="o">*</span> <span
                        class="p">((</span><span class="mf">2.0</span> <span class="o">/</span> <span
                        class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span
                        class="n">vH</span><span class="p">)</span> <span class="o">*</span> <span class="mi">6</span>

    <span class="k">return</span> <span class="n">v1</span>


<span class="k">def</span> <span class="nf">rgb2hex</span><span class="p">(</span><span class="n">rgb</span><span
                        class="p">,</span> <span class="n">force_long</span><span class="o">=</span><span class="kc">False</span><span
                        class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Transform RGB tuple to hex RGB representation</span>

<span class="sd">    :param rgb: RGB 3-uple of float between 0 and 1</span>
<span class="sd">    :rtype: 3 hex char or 6 hex char string representation</span>

<span class="sd">    Usage</span>
<span class="sd">    -----</span>

<span class="sd">    &gt;&gt;&gt; from colour import rgb2hex</span>

<span class="sd">    &gt;&gt;&gt; rgb2hex((0.0,1.0,0.0))</span>
<span class="sd">    &#39;#0f0&#39;</span>

<span class="sd">    Rounding try to be as natural as possible:</span>

<span class="sd">    &gt;&gt;&gt; rgb2hex((0.0,0.999999,1.0))</span>
<span class="sd">    &#39;#0ff&#39;</span>

<span class="sd">    And if not possible, the 6 hex char representation is used:</span>

<span class="sd">    &gt;&gt;&gt; rgb2hex((0.23,1.0,1.0))</span>
<span class="sd">    &#39;#3bffff&#39;</span>

<span class="sd">    &gt;&gt;&gt; rgb2hex((0.0,0.999999,1.0), force_long=True)</span>
<span class="sd">    &#39;#00ffff&#39;</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">hx</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span
                        class="n">join</span><span class="p">([</span><span class="s2">&quot;</span><span class="si">%02x</span><span
                        class="s2">&quot;</span> <span class="o">%</span> <span class="nb">int</span><span
                        class="p">(</span><span class="n">c</span> <span class="o">*</span> <span class="mi">255</span> <span
                        class="o">+</span> <span class="mf">0.5</span> <span class="o">-</span> <span class="n">FLOAT_ERROR</span><span
                        class="p">)</span>
                  <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span
                        class="n">rgb</span><span class="p">])</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">force_long</span> <span class="ow">and</span> <span
                        class="n">hx</span><span class="p">[</span><span class="mi">0</span><span
                        class="p">::</span><span class="mi">2</span><span class="p">]</span> <span
                        class="o">==</span> <span class="n">hx</span><span class="p">[</span><span
                        class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]:</span>
        <span class="n">hx</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span
                        class="o">.</span><span class="n">join</span><span class="p">(</span><span
                        class="n">hx</span><span class="p">[</span><span class="mi">0</span><span
                        class="p">::</span><span class="mi">2</span><span class="p">])</span>

    <span class="k">return</span> <span class="s2">&quot;#</span><span class="si">%s</span><span
                        class="s2">&quot;</span> <span class="o">%</span> <span class="n">hx</span>


<span class="k">def</span> <span class="nf">hex2rgb</span><span class="p">(</span><span class="n">str_rgb</span><span
                        class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Transform hex RGB representation to RGB tuple</span>

<span class="sd">    :param str_rgb: 3 hex char or 6 hex char string representation</span>
<span class="sd">    :rtype: RGB 3-uple of float between 0 and 1</span>

<span class="sd">    &gt;&gt;&gt; from colour import hex2rgb</span>

<span class="sd">    &gt;&gt;&gt; hex2rgb(&#39;#00ff00&#39;)</span>
<span class="sd">    (0.0, 1.0, 0.0)</span>

<span class="sd">    &gt;&gt;&gt; hex2rgb(&#39;#0f0&#39;)</span>
<span class="sd">    (0.0, 1.0, 0.0)</span>

<span class="sd">    &gt;&gt;&gt; hex2rgb(&#39;#aaa&#39;)  # doctest: +ELLIPSIS</span>
<span class="sd">    (0.66..., 0.66..., 0.66...)</span>

<span class="sd">    &gt;&gt;&gt; hex2rgb(&#39;#aa&#39;)  # doctest: +ELLIPSIS</span>
<span class="sd">    Traceback (most recent call last):</span>
<span class="sd">    ...</span>
<span class="sd">    ValueError: Invalid value &#39;#aa&#39; provided for rgb color.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">rgb</span> <span class="o">=</span> <span class="n">str_rgb</span><span class="p">[</span><span
                        class="mi">1</span><span class="p">:]</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rgb</span><span
                        class="p">)</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>
            <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span
                        class="n">b</span> <span class="o">=</span> <span class="n">rgb</span><span
                        class="p">[</span><span class="mi">0</span><span class="p">:</span><span
                        class="mi">2</span><span class="p">],</span> <span class="n">rgb</span><span
                        class="p">[</span><span class="mi">2</span><span class="p">:</span><span
                        class="mi">4</span><span class="p">],</span> <span class="n">rgb</span><span
                        class="p">[</span><span class="mi">4</span><span class="p">:</span><span
                        class="mi">6</span><span class="p">]</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">rgb</span><span
                        class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span
                        class="n">b</span> <span class="o">=</span> <span class="n">rgb</span><span
                        class="p">[</span><span class="mi">0</span><span class="p">]</span> <span
                        class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span
                        class="n">rgb</span><span class="p">[</span><span class="mi">1</span><span
                        class="p">]</span> <span class="o">*</span> <span class="mi">2</span><span
                        class="p">,</span> <span class="n">rgb</span><span class="p">[</span><span
                        class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">()</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid value </span><span
                        class="si">%r</span><span class="s2"> provided for rgb color.&quot;</span>
                         <span class="o">%</span> <span class="n">str_rgb</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">tuple</span><span class="p">([</span><span
                        class="nb">float</span><span class="p">(</span><span class="nb">int</span><span
                        class="p">(</span><span class="n">v</span><span class="p">,</span> <span
                        class="mi">16</span><span class="p">))</span> <span class="o">/</span> <span
                        class="mi">255</span> <span class="k">for</span> <span class="n">v</span> <span
                        class="ow">in</span> <span class="p">(</span><span class="n">r</span><span
                        class="p">,</span> <span class="n">g</span><span class="p">,</span> <span
                        class="n">b</span><span class="p">)])</span>


<span class="k">def</span> <span class="nf">hex2web</span><span class="p">(</span><span class="nb">hex</span><span
                        class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Converts HEX representation to WEB</span>

<span class="sd">    :param rgb: 3 hex char or 6 hex char string representation</span>
<span class="sd">    :rtype: web string representation (human readable if possible)</span>

<span class="sd">    WEB representation uses X11 rgb.txt to define conversion</span>
<span class="sd">    between RGB and english color names.</span>

<span class="sd">    Usage</span>
<span class="sd">    =====</span>

<span class="sd">    &gt;&gt;&gt; from colour import hex2web</span>

<span class="sd">    &gt;&gt;&gt; hex2web(&#39;#ff0000&#39;)</span>
<span class="sd">    &#39;red&#39;</span>

<span class="sd">    &gt;&gt;&gt; hex2web(&#39;#aaaaaa&#39;)</span>
<span class="sd">    &#39;#aaa&#39;</span>

<span class="sd">    &gt;&gt;&gt; hex2web(&#39;#abc&#39;)</span>
<span class="sd">    &#39;#abc&#39;</span>

<span class="sd">    &gt;&gt;&gt; hex2web(&#39;#acacac&#39;)</span>
<span class="sd">    &#39;#acacac&#39;</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">dec_rgb</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span
                        class="nb">int</span><span class="p">(</span><span class="n">v</span> <span
                        class="o">*</span> <span class="mi">255</span><span class="p">)</span> <span
                        class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span
                        class="n">hex2rgb</span><span class="p">(</span><span class="nb">hex</span><span
                        class="p">))</span>
    <span class="k">if</span> <span class="n">dec_rgb</span> <span class="ow">in</span> <span class="n">RGB_TO_COLOR_NAMES</span><span
                        class="p">:</span>
        <span class="c1">## take the first one</span>
        <span class="n">color_name</span> <span class="o">=</span> <span class="n">RGB_TO_COLOR_NAMES</span><span
                        class="p">[</span><span class="n">dec_rgb</span><span class="p">][</span><span
                        class="mi">0</span><span class="p">]</span>
        <span class="c1">## Enforce full lowercase for single worded color name.</span>
        <span class="k">return</span> <span class="n">color_name</span> <span class="k">if</span> <span
                        class="nb">len</span><span class="p">(</span><span class="n">re</span><span
                        class="o">.</span><span class="n">sub</span><span class="p">(</span><span
                        class="sa">r</span><span class="s2">&quot;[^A-Z]&quot;</span><span class="p">,</span> <span
                        class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">color_name</span><span
                        class="p">))</span> <span class="o">&gt;</span> <span class="mi">1</span> \
               <span class="k">else</span> <span class="n">color_name</span><span class="o">.</span><span class="n">lower</span><span
                        class="p">()</span>

    <span class="c1"># Hex format is verified by hex2rgb function. And should be 3 or 6 digit</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">hex</span><span
                        class="p">)</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">hex</span><span class="p">[</span><span class="mi">1</span><span
                        class="p">]</span> <span class="o">==</span> <span class="nb">hex</span><span class="p">[</span><span
                        class="mi">2</span><span class="p">]</span> <span class="ow">and</span> \
           <span class="nb">hex</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span
                        class="o">==</span> <span class="nb">hex</span><span class="p">[</span><span class="mi">4</span><span
                        class="p">]</span> <span class="ow">and</span> \
           <span class="nb">hex</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span
                        class="o">==</span> <span class="nb">hex</span><span class="p">[</span><span class="mi">6</span><span
                        class="p">]:</span>
            <span class="k">return</span> <span class="s1">&#39;#&#39;</span> <span class="o">+</span> <span class="nb">hex</span><span
                        class="p">[</span><span class="mi">1</span><span class="p">]</span> <span
                        class="o">+</span> <span class="nb">hex</span><span class="p">[</span><span
                        class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="nb">hex</span><span
                        class="p">[</span><span class="mi">5</span><span class="p">]</span>
    <span class="k">return</span> <span class="nb">hex</span>


<span class="k">def</span> <span class="nf">web2hex</span><span class="p">(</span><span class="n">web</span><span
                        class="p">,</span> <span class="n">force_long</span><span class="o">=</span><span class="kc">False</span><span
                        class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Converts WEB representation to HEX</span>

<span class="sd">    :param rgb: web string representation (human readable if possible)</span>
<span class="sd">    :rtype: 3 hex char or 6 hex char string representation</span>

<span class="sd">    WEB representation uses X11 rgb.txt to define conversion</span>
<span class="sd">    between RGB and english color names.</span>

<span class="sd">    Usage</span>
<span class="sd">    =====</span>

<span class="sd">    &gt;&gt;&gt; from colour import web2hex</span>

<span class="sd">    &gt;&gt;&gt; web2hex(&#39;red&#39;)</span>
<span class="sd">    &#39;#f00&#39;</span>

<span class="sd">    &gt;&gt;&gt; web2hex(&#39;#aaa&#39;)</span>
<span class="sd">    &#39;#aaa&#39;</span>

<span class="sd">    &gt;&gt;&gt; web2hex(&#39;#foo&#39;)  # doctest: +ELLIPSIS</span>
<span class="sd">    Traceback (most recent call last):</span>
<span class="sd">    ...</span>
<span class="sd">    AttributeError: &#39;#foo&#39; is not in web format. Need 3 or 6 hex digit.</span>

<span class="sd">    &gt;&gt;&gt; web2hex(&#39;#aaa&#39;, force_long=True)</span>
<span class="sd">    &#39;#aaaaaa&#39;</span>

<span class="sd">    &gt;&gt;&gt; web2hex(&#39;#aaaaaa&#39;)</span>
<span class="sd">    &#39;#aaaaaa&#39;</span>

<span class="sd">    &gt;&gt;&gt; web2hex(&#39;#aaaa&#39;)  # doctest: +ELLIPSIS</span>
<span class="sd">    Traceback (most recent call last):</span>
<span class="sd">    ...</span>
<span class="sd">    AttributeError: &#39;#aaaa&#39; is not in web format. Need 3 or 6 hex digit.</span>

<span class="sd">    &gt;&gt;&gt; web2hex(&#39;pinky&#39;)  # doctest: +ELLIPSIS</span>
<span class="sd">    Traceback (most recent call last):</span>
<span class="sd">    ...</span>
<span class="sd">    ValueError: &#39;pinky&#39; is not a recognized color.</span>

<span class="sd">    And color names are case insensitive:</span>

<span class="sd">    &gt;&gt;&gt; Color(&#39;RED&#39;)</span>
<span class="sd">    &lt;Color red&gt;</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">web</span><span class="o">.</span><span class="n">startswith</span><span
                        class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">LONG_HEX_COLOR</span><span
                        class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">web</span><span
                        class="p">)</span> <span class="ow">or</span>
            <span class="p">(</span><span class="ow">not</span> <span class="n">force_long</span> <span
                        class="ow">and</span> <span class="n">SHORT_HEX_COLOR</span><span class="o">.</span><span
                        class="n">match</span><span class="p">(</span><span class="n">web</span><span
                        class="p">))):</span>
            <span class="k">return</span> <span class="n">web</span><span class="o">.</span><span class="n">lower</span><span
                        class="p">()</span>
        <span class="k">elif</span> <span class="n">SHORT_HEX_COLOR</span><span class="o">.</span><span
                        class="n">match</span><span class="p">(</span><span class="n">web</span><span class="p">)</span> <span
                        class="ow">and</span> <span class="n">force_long</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;#&#39;</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span
                        class="o">.</span><span class="n">join</span><span class="p">([(</span><span
                        class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span> <span
                        class="o">%</span> <span class="p">(</span><span class="n">t</span><span
                        class="p">,</span> <span class="p">))</span> <span class="o">*</span> <span class="mi">2</span> <span
                        class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span
                        class="n">web</span><span class="p">[</span><span class="mi">1</span><span class="p">:]])</span>
        <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span>
            <span class="s2">&quot;</span><span class="si">%r</span><span class="s2"> is not in web format. Need 3 or 6 hex digit.&quot;</span> <span
                        class="o">%</span> <span class="n">web</span><span class="p">)</span>

    <span class="n">web</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span
                        class="n">lower</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">web</span> <span class="ow">not</span> <span class="ow">in</span> <span
                        class="n">COLOR_NAME_TO_RGB</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span
                        class="s2">&quot;</span><span class="si">%r</span><span class="s2"> is not a recognized color.&quot;</span> <span
                        class="o">%</span> <span class="n">web</span><span class="p">)</span>

    <span class="c1">## convert dec to hex:</span>

    <span class="k">return</span> <span class="n">rgb2hex</span><span class="p">([</span><span
                        class="nb">float</span><span class="p">(</span><span class="nb">int</span><span
                        class="p">(</span><span class="n">v</span><span class="p">))</span> <span
                        class="o">/</span> <span class="mi">255</span> <span class="k">for</span> <span
                        class="n">v</span> <span class="ow">in</span> <span class="n">COLOR_NAME_TO_RGB</span><span
                        class="p">[</span><span class="n">web</span><span class="p">]],</span>
                   <span class="n">force_long</span><span class="p">)</span>


<span class="c1">## Missing functions conversion</span>

<span class="n">hsl2hex</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span
                        class="p">:</span> <span class="n">rgb2hex</span><span class="p">(</span><span
                        class="n">hsl2rgb</span><span class="p">(</span><span class="n">x</span><span
                        class="p">))</span>
<span class="n">hex2hsl</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span
                        class="p">:</span> <span class="n">rgb2hsl</span><span class="p">(</span><span
                        class="n">hex2rgb</span><span class="p">(</span><span class="n">x</span><span
                        class="p">))</span>
<span class="n">rgb2web</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span
                        class="p">:</span> <span class="n">hex2web</span><span class="p">(</span><span
                        class="n">rgb2hex</span><span class="p">(</span><span class="n">x</span><span
                        class="p">))</span>
<span class="n">web2rgb</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span
                        class="p">:</span> <span class="n">hex2rgb</span><span class="p">(</span><span
                        class="n">web2hex</span><span class="p">(</span><span class="n">x</span><span
                        class="p">))</span>
<span class="n">web2hsl</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span
                        class="p">:</span> <span class="n">rgb2hsl</span><span class="p">(</span><span
                        class="n">web2rgb</span><span class="p">(</span><span class="n">x</span><span
                        class="p">))</span>
<span class="n">hsl2web</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span
                        class="p">:</span> <span class="n">rgb2web</span><span class="p">(</span><span
                        class="n">hsl2rgb</span><span class="p">(</span><span class="n">x</span><span
                        class="p">))</span>


<span class="k">def</span> <span class="nf">color_scale</span><span class="p">(</span><span
                        class="n">begin_hsl</span><span class="p">,</span> <span class="n">end_hsl</span><span
                        class="p">,</span> <span class="n">nb</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns a list of nb color HSL tuples between begin_hsl and end_hsl</span>

<span class="sd">    &gt;&gt;&gt; from colour import color_scale</span>

<span class="sd">    &gt;&gt;&gt; [rgb2hex(hsl2rgb(hsl)) for hsl in color_scale((0, 1, 0.5),</span>
<span class="sd">    ...                                               (1, 1, 0.5), 3)]</span>
<span class="sd">    [&#39;#f00&#39;, &#39;#0f0&#39;, &#39;#00f&#39;, &#39;#f00&#39;]</span>

<span class="sd">    &gt;&gt;&gt; [rgb2hex(hsl2rgb(hsl))</span>
<span class="sd">    ...  for hsl in color_scale((0, 0, 0),</span>
<span class="sd">    ...                         (0, 0, 1),</span>
<span class="sd">    ...                         15)]  # doctest: +ELLIPSIS</span>
<span class="sd">    [&#39;#000&#39;, &#39;#111&#39;, &#39;#222&#39;, ..., &#39;#ccc&#39;, &#39;#ddd&#39;, &#39;#eee&#39;, &#39;#fff&#39;]</span>

<span class="sd">    Of course, asking for negative values is not supported:</span>

<span class="sd">    &gt;&gt;&gt; color_scale((0, 1, 0.5), (1, 1, 0.5), -2)</span>
<span class="sd">    Traceback (most recent call last):</span>
<span class="sd">    ...</span>
<span class="sd">    ValueError: Unsupported negative number of colors (nb=-2).</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">nb</span> <span class="o">&lt;</span> <span class="mi">0</span><span
                        class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Unsupported negative number of colors (nb=</span><span class="si">%r</span><span
                        class="s2">).&quot;</span> <span class="o">%</span> <span class="n">nb</span><span
                        class="p">)</span>

    <span class="n">step</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">([</span><span
                        class="nb">float</span><span class="p">(</span><span class="n">end_hsl</span><span
                        class="p">[</span><span class="n">i</span><span class="p">]</span> <span
                        class="o">-</span> <span class="n">begin_hsl</span><span class="p">[</span><span
                        class="n">i</span><span class="p">])</span> <span class="o">/</span> <span
                        class="n">nb</span> <span class="k">for</span> <span class="n">i</span> <span
                        class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span
                        class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)])</span> \
           <span class="k">if</span> <span class="n">nb</span> <span class="o">&gt;</span> <span
                        class="mi">0</span> <span class="k">else</span> <span class="p">(</span><span
                        class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span
                        class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mul</span><span class="p">(</span><span class="n">step</span><span
                        class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">([</span><span
                        class="n">v</span> <span class="o">*</span> <span class="n">value</span> <span
                        class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span
                        class="n">step</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">add_v</span><span class="p">(</span><span class="n">step</span><span
                        class="p">,</span> <span class="n">step2</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">([</span><span
                        class="n">v</span> <span class="o">+</span> <span class="n">step2</span><span class="p">[</span><span
                        class="n">i</span><span class="p">]</span> <span class="k">for</span> <span
                        class="n">i</span><span class="p">,</span> <span class="n">v</span> <span
                        class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">step</span><span
                        class="p">)])</span>

    <span class="k">return</span> <span class="p">[</span><span class="n">add_v</span><span class="p">(</span><span
                        class="n">begin_hsl</span><span class="p">,</span> <span class="n">mul</span><span
                        class="p">(</span><span class="n">step</span><span class="p">,</span> <span
                        class="n">r</span><span class="p">))</span> <span class="k">for</span> <span class="n">r</span> <span
                        class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span
                        class="mi">0</span><span class="p">,</span> <span class="n">nb</span> <span
                        class="o">+</span> <span class="mi">1</span><span class="p">)]</span>


<span class="c1">##</span>
<span class="c1">## Color Pickers</span>
<span class="c1">##</span>

<span class="k">def</span> <span class="nf">RGB_color_picker</span><span class="p">(</span><span
                        class="n">obj</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Build a color representation from the string representation of an object</span>

<span class="sd">    This allows to quickly get a color from some data, with the</span>
<span class="sd">    additional benefit that the color will be the same as long as the</span>
<span class="sd">    (string representation of the) data is the same::</span>

<span class="sd">        &gt;&gt;&gt; from colour import RGB_color_picker, Color</span>

<span class="sd">    Same inputs produce the same result::</span>

<span class="sd">        &gt;&gt;&gt; RGB_color_picker(&quot;Something&quot;) == RGB_color_picker(&quot;Something&quot;)</span>
<span class="sd">        True</span>

<span class="sd">    ... but different inputs produce different colors::</span>

<span class="sd">        &gt;&gt;&gt; RGB_color_picker(&quot;Something&quot;) != RGB_color_picker(&quot;Something else&quot;)</span>
<span class="sd">        True</span>

<span class="sd">    In any case, we still get a ``Color`` object::</span>

<span class="sd">        &gt;&gt;&gt; isinstance(RGB_color_picker(&quot;Something&quot;), Color)</span>
<span class="sd">        True</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">## Turn the input into a by 3-dividable string. SHA-384 is good because it</span>
    <span class="c1">## divides into 3 components of the same size, which will be used to</span>
    <span class="c1">## represent the RGB values of the color.</span>
    <span class="n">digest</span> <span class="o">=</span> <span class="n">hashlib</span><span class="o">.</span><span
                        class="n">sha384</span><span class="p">(</span><span class="nb">str</span><span
                        class="p">(</span><span class="n">obj</span><span class="p">)</span><span
                        class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span
                        class="p">))</span><span class="o">.</span><span class="n">hexdigest</span><span
                        class="p">()</span>

    <span class="c1">## Split the digest into 3 sub-strings of equivalent size.</span>
    <span class="n">subsize</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span
                        class="nb">len</span><span class="p">(</span><span class="n">digest</span><span
                        class="p">)</span> <span class="o">/</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">splitted_digest</span> <span class="o">=</span> <span class="p">[</span><span
                        class="n">digest</span><span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span
                        class="n">subsize</span><span class="p">:</span> <span class="p">(</span><span
                        class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span
                        class="p">)</span> <span class="o">*</span> <span class="n">subsize</span><span
                        class="p">]</span>
                       <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span
                        class="p">(</span><span class="mi">3</span><span class="p">)]</span>

    <span class="c1">## Convert those hexadecimal sub-strings into integer and scale them down</span>
    <span class="c1">## to the 0..1 range.</span>
    <span class="n">max_value</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span
                        class="nb">int</span><span class="p">(</span><span class="s2">&quot;f&quot;</span> <span
                        class="o">*</span> <span class="n">subsize</span><span class="p">,</span> <span
                        class="mi">16</span><span class="p">))</span>
    <span class="n">components</span> <span class="o">=</span> <span class="p">(</span>
        <span class="nb">int</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span
                        class="mi">16</span><span class="p">)</span>     <span class="c1">## Make a number from a list with hex digits</span>
        <span class="o">/</span> <span class="n">max_value</span>    <span
                        class="c1">## Scale it down to [0.0, 1.0]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span
                        class="n">splitted_digest</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">Color</span><span class="p">(</span><span
                        class="n">rgb2hex</span><span class="p">(</span><span class="n">components</span><span
                        class="p">))</span>  <span class="c1">## Profit!</span>


<span class="k">def</span> <span class="nf">hash_or_str</span><span class="p">(</span><span class="n">obj</span><span
                        class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span
                        class="nb">type</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span><span
                        class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span
                        class="n">obj</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="c1">## Adds the type name to make sure two object of different type but</span>
        <span class="c1">## identical string representation get distinguished.</span>
        <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span
                        class="n">obj</span><span class="p">)</span><span class="o">.</span><span
                        class="vm">__name__</span> <span class="o">+</span> <span class="nb">str</span><span
                        class="p">(</span><span class="n">obj</span><span class="p">)</span>


<span class="c1">##</span>
<span class="c1">## All purpose object</span>
<span class="c1">##</span>

<span class="k">class</span> <span class="nc">Color</span><span class="p">(</span><span class="nb">object</span><span
                        class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Abstraction of a color object</span>

<span class="sd">    Color object keeps information of a color. It can input/output to different</span>
<span class="sd">    format (HSL, RGB, HEX, WEB) and their partial representation.</span>

<span class="sd">        &gt;&gt;&gt; from colour import Color, HSL</span>

<span class="sd">        &gt;&gt;&gt; b = Color()</span>
<span class="sd">        &gt;&gt;&gt; b.hsl = HSL.BLUE</span>

<span class="sd">    Access values</span>
<span class="sd">    -------------</span>

<span class="sd">        &gt;&gt;&gt; b.hue  # doctest: +ELLIPSIS</span>
<span class="sd">        0.66...</span>
<span class="sd">        &gt;&gt;&gt; b.saturation</span>
<span class="sd">        1.0</span>
<span class="sd">        &gt;&gt;&gt; b.luminance</span>
<span class="sd">        0.5</span>

<span class="sd">        &gt;&gt;&gt; b.red</span>
<span class="sd">        0.0</span>
<span class="sd">        &gt;&gt;&gt; b.blue</span>
<span class="sd">        1.0</span>
<span class="sd">        &gt;&gt;&gt; b.green</span>
<span class="sd">        0.0</span>

<span class="sd">        &gt;&gt;&gt; b.rgb</span>
<span class="sd">        (0.0, 0.0, 1.0)</span>
<span class="sd">        &gt;&gt;&gt; b.hsl  # doctest: +ELLIPSIS</span>
<span class="sd">        (0.66..., 1.0, 0.5)</span>
<span class="sd">        &gt;&gt;&gt; b.hex</span>
<span class="sd">        &#39;#00f&#39;</span>

<span class="sd">    Change values</span>
<span class="sd">    -------------</span>

<span class="sd">    Let&#39;s change Hue toward red tint:</span>

<span class="sd">        &gt;&gt;&gt; b.hue = 0.0</span>
<span class="sd">        &gt;&gt;&gt; b.hex</span>
<span class="sd">        &#39;#f00&#39;</span>

<span class="sd">        &gt;&gt;&gt; b.hue = 2.0/3</span>
<span class="sd">        &gt;&gt;&gt; b.hex</span>
<span class="sd">        &#39;#00f&#39;</span>

<span class="sd">    In the other way round:</span>

<span class="sd">        &gt;&gt;&gt; b.hex = &#39;#f00&#39;</span>
<span class="sd">        &gt;&gt;&gt; b.hsl</span>
<span class="sd">        (0.0, 1.0, 0.5)</span>

<span class="sd">    Long hex can be accessed directly:</span>

<span class="sd">        &gt;&gt;&gt; b.hex_l = &#39;#123456&#39;</span>
<span class="sd">        &gt;&gt;&gt; b.hex_l</span>
<span class="sd">        &#39;#123456&#39;</span>
<span class="sd">        &gt;&gt;&gt; b.hex</span>
<span class="sd">        &#39;#123456&#39;</span>

<span class="sd">        &gt;&gt;&gt; b.hex_l = &#39;#ff0000&#39;</span>
<span class="sd">        &gt;&gt;&gt; b.hex_l</span>
<span class="sd">        &#39;#ff0000&#39;</span>
<span class="sd">        &gt;&gt;&gt; b.hex</span>
<span class="sd">        &#39;#f00&#39;</span>

<span class="sd">    Convenience</span>
<span class="sd">    -----------</span>

<span class="sd">        &gt;&gt;&gt; c = Color(&#39;blue&#39;)</span>
<span class="sd">        &gt;&gt;&gt; c</span>
<span class="sd">        &lt;Color blue&gt;</span>
<span class="sd">        &gt;&gt;&gt; c.hue = 0</span>
<span class="sd">        &gt;&gt;&gt; c</span>
<span class="sd">        &lt;Color red&gt;</span>

<span class="sd">        &gt;&gt;&gt; c.saturation = 0.0</span>
<span class="sd">        &gt;&gt;&gt; c.hsl  # doctest: +ELLIPSIS</span>
<span class="sd">        (..., 0.0, 0.5)</span>
<span class="sd">        &gt;&gt;&gt; c.rgb</span>
<span class="sd">        (0.5, 0.5, 0.5)</span>
<span class="sd">        &gt;&gt;&gt; c.hex</span>
<span class="sd">        &#39;#7f7f7f&#39;</span>
<span class="sd">        &gt;&gt;&gt; c</span>
<span class="sd">        &lt;Color #7f7f7f&gt;</span>

<span class="sd">        &gt;&gt;&gt; c.luminance = 0.0</span>
<span class="sd">        &gt;&gt;&gt; c</span>
<span class="sd">        &lt;Color black&gt;</span>

<span class="sd">        &gt;&gt;&gt; c.hex</span>
<span class="sd">        &#39;#000&#39;</span>

<span class="sd">        &gt;&gt;&gt; c.green = 1.0</span>
<span class="sd">        &gt;&gt;&gt; c.blue = 1.0</span>
<span class="sd">        &gt;&gt;&gt; c.hex</span>
<span class="sd">        &#39;#0ff&#39;</span>
<span class="sd">        &gt;&gt;&gt; c</span>
<span class="sd">        &lt;Color cyan&gt;</span>

<span class="sd">        &gt;&gt;&gt; c = Color(&#39;blue&#39;, luminance=0.75)</span>
<span class="sd">        &gt;&gt;&gt; c</span>
<span class="sd">        &lt;Color #7f7fff&gt;</span>

<span class="sd">        &gt;&gt;&gt; c = Color(&#39;red&#39;, red=0.5)</span>
<span class="sd">        &gt;&gt;&gt; c</span>
<span class="sd">        &lt;Color #7f0000&gt;</span>

<span class="sd">        &gt;&gt;&gt; print(c)</span>
<span class="sd">        #7f0000</span>

<span class="sd">    You can try to query unexisting attributes:</span>

<span class="sd">        &gt;&gt;&gt; c.lightness  # doctest: +ELLIPSIS</span>
<span class="sd">        Traceback (most recent call last):</span>
<span class="sd">        ...</span>
<span class="sd">        AttributeError: &#39;lightness&#39; not found</span>

<span class="sd">    TODO: could add HSV, CMYK, YUV conversion.</span>

<span class="sd">#     &gt;&gt;&gt; b.hsv</span>
<span class="sd">#     &gt;&gt;&gt; b.value</span>
<span class="sd">#     &gt;&gt;&gt; b.cyan</span>
<span class="sd">#     &gt;&gt;&gt; b.magenta</span>
<span class="sd">#     &gt;&gt;&gt; b.yellow</span>
<span class="sd">#     &gt;&gt;&gt; b.key</span>
<span class="sd">#     &gt;&gt;&gt; b.cmyk</span>


<span class="sd">    Recursive init</span>
<span class="sd">    --------------</span>

<span class="sd">    To support blind conversion of web strings (or already converted object),</span>
<span class="sd">    the Color object supports instantiation with another Color object.</span>

<span class="sd">        &gt;&gt;&gt; Color(Color(Color(&#39;red&#39;)))</span>
<span class="sd">        &lt;Color red&gt;</span>

<span class="sd">    Equality support</span>
<span class="sd">    ----------------</span>

<span class="sd">    Default equality is RGB hex comparison:</span>

<span class="sd">        &gt;&gt;&gt; Color(&#39;red&#39;) == Color(&#39;blue&#39;)</span>
<span class="sd">        False</span>
<span class="sd">        &gt;&gt;&gt; Color(&#39;red&#39;) == Color(&#39;red&#39;)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; Color(&#39;red&#39;) != Color(&#39;blue&#39;)</span>
<span class="sd">        True</span>
<span class="sd">        &gt;&gt;&gt; Color(&#39;red&#39;) != Color(&#39;red&#39;)</span>
<span class="sd">        False</span>

<span class="sd">    But this can be changed:</span>

<span class="sd">        &gt;&gt;&gt; saturation_equality = lambda c1, c2: c1.luminance == c2.luminance</span>
<span class="sd">        &gt;&gt;&gt; Color(&#39;red&#39;, equality=saturation_equality) == Color(&#39;blue&#39;)</span>
<span class="sd">        True</span>


<span class="sd">    Subclassing support</span>
<span class="sd">    -------------------</span>

<span class="sd">    You should be able to subclass ``Color`` object without any issues::</span>

<span class="sd">        &gt;&gt;&gt; class Tint(Color):</span>
<span class="sd">        ...     pass</span>

<span class="sd">    And keep the internal API working::</span>

<span class="sd">        &gt;&gt;&gt; Tint(&quot;red&quot;).hsl</span>
<span class="sd">        (0.0, 1.0, 0.5)</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_hsl</span> <span class="o">=</span> <span class="kc">None</span>   <span class="c1">## internal representation</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">,</span> <span class="n">color</span><span class="o">=</span><span
                        class="kc">None</span><span class="p">,</span>
                 <span class="n">pick_for</span><span class="o">=</span><span class="kc">None</span><span
                        class="p">,</span> <span class="n">picker</span><span class="o">=</span><span class="n">RGB_color_picker</span><span
                        class="p">,</span> <span class="n">pick_key</span><span class="o">=</span><span class="n">hash_or_str</span><span
                        class="p">,</span>
                 <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">pick_key</span> <span class="ow">is</span> <span
                        class="kc">None</span><span class="p">:</span>
            <span class="n">pick_key</span> <span class="o">=</span> <span class="k">lambda</span> <span
                        class="n">x</span><span class="p">:</span> <span class="n">x</span>

        <span class="k">if</span> <span class="n">pick_for</span> <span class="ow">is</span> <span class="ow">not</span> <span
                        class="kc">None</span><span class="p">:</span>
            <span class="n">color</span> <span class="o">=</span> <span class="n">picker</span><span
                        class="p">(</span><span class="n">pick_key</span><span class="p">(</span><span class="n">pick_for</span><span
                        class="p">))</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">color</span><span
                        class="p">,</span> <span class="n">Color</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">web</span> <span
                        class="o">=</span> <span class="n">color</span><span class="o">.</span><span
                        class="n">web</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">web</span> <span
                        class="o">=</span> <span class="n">color</span> <span class="k">if</span> <span
                        class="n">color</span> <span class="k">else</span> <span class="s1">&#39;black&#39;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">equality</span> <span
                        class="o">=</span> <span class="n">RGB_equivalence</span>

        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span
                        class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span
                        class="n">items</span><span class="p">():</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span
                        class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span
                        class="bp">self</span><span class="p">,</span> <span class="n">label</span><span
                        class="p">):</span>
        <span class="k">if</span> <span class="n">label</span><span class="o">.</span><span
                        class="n">startswith</span><span class="p">(</span><span class="s2">&quot;get_&quot;</span><span
                        class="p">):</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span
                        class="si">%s</span><span class="s2">&#39; not found&quot;</span> <span class="o">%</span> <span
                        class="n">label</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span
                        class="bp">self</span><span class="p">,</span> <span class="s1">&#39;get_&#39;</span> <span
                        class="o">+</span> <span class="n">label</span><span class="p">)()</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span
                        class="si">%s</span><span class="s2">&#39; not found&quot;</span> <span class="o">%</span> <span
                        class="n">label</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__setattr__</span><span class="p">(</span><span
                        class="bp">self</span><span class="p">,</span> <span class="n">label</span><span
                        class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">label</span> <span class="ow">not</span> <span
                        class="ow">in</span> <span class="p">[</span><span class="s2">&quot;_hsl&quot;</span><span
                        class="p">,</span> <span class="s2">&quot;equality&quot;</span><span class="p">]:</span>
            <span class="n">fc</span> <span class="o">=</span> <span class="nb">getattr</span><span
                        class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;set_&#39;</span> <span
                        class="o">+</span> <span class="n">label</span><span class="p">)</span>
            <span class="n">fc</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span
                        class="n">label</span><span class="p">]</span> <span class="o">=</span> <span
                        class="n">value</span>

    <span class="c1">##</span>
    <span class="c1">## Get</span>
    <span class="c1">##</span>

    <span class="k">def</span> <span class="nf">get_hsl</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">):</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span
                        class="bp">self</span><span class="o">.</span><span class="n">_hsl</span><span
                        class="p">)</span>

    <span class="k">def</span> <span class="nf">get_hex</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">):</span>
        <span class="k">return</span> <span class="n">rgb2hex</span><span class="p">(</span><span class="bp">self</span><span
                        class="o">.</span><span class="n">rgb</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_hex_l</span><span class="p">(</span><span
                        class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">rgb2hex</span><span class="p">(</span><span class="bp">self</span><span
                        class="o">.</span><span class="n">rgb</span><span class="p">,</span> <span
                        class="n">force_long</span><span class="o">=</span><span class="kc">True</span><span
                        class="p">)</span>

    <span class="k">def</span> <span class="nf">get_rgb</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">):</span>
        <span class="k">return</span> <span class="n">hsl2rgb</span><span class="p">(</span><span class="bp">self</span><span
                        class="o">.</span><span class="n">hsl</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_hue</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span
                        class="n">hsl</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_saturation</span><span class="p">(</span><span
                        class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span
                        class="n">hsl</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_luminance</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span
                        class="n">hsl</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_red</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span
                        class="n">rgb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_green</span><span class="p">(</span><span
                        class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span
                        class="n">rgb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_blue</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span
                        class="n">rgb</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">get_web</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">):</span>
        <span class="k">return</span> <span class="n">hex2web</span><span class="p">(</span><span class="bp">self</span><span
                        class="o">.</span><span class="n">hex</span><span class="p">)</span>

    <span class="c1">##</span>
    <span class="c1">## Set</span>
    <span class="c1">##</span>

    <span class="k">def</span> <span class="nf">set_hsl</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hsl</span> <span class="o">=</span> <span
                        class="nb">list</span><span class="p">(</span><span class="n">value</span><span
                        class="p">)</span>

    <span class="k">def</span> <span class="nf">set_rgb</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hsl</span> <span class="o">=</span> <span
                        class="n">rgb2hsl</span><span class="p">(</span><span class="n">value</span><span
                        class="p">)</span>

    <span class="k">def</span> <span class="nf">set_hue</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hsl</span><span class="p">[</span><span
                        class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span
                        class="n">value</span>

    <span class="k">def</span> <span class="nf">set_saturation</span><span class="p">(</span><span
                        class="bp">self</span><span class="p">,</span> <span class="n">value</span><span
                        class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hsl</span><span class="p">[</span><span
                        class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span
                        class="n">value</span>

    <span class="k">def</span> <span class="nf">set_luminance</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hsl</span><span class="p">[</span><span
                        class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span
                        class="n">value</span>

    <span class="k">def</span> <span class="nf">set_red</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span
                        class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                        class="n">rgb</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rgb</span> <span class="o">=</span> <span
                        class="p">(</span><span class="n">value</span><span class="p">,</span> <span
                        class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_green</span><span class="p">(</span><span
                        class="bp">self</span><span class="p">,</span> <span class="n">value</span><span
                        class="p">):</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span
                        class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                        class="n">rgb</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rgb</span> <span class="o">=</span> <span
                        class="p">(</span><span class="n">r</span><span class="p">,</span> <span
                        class="n">value</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_blue</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span
                        class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span
                        class="n">rgb</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rgb</span> <span class="o">=</span> <span
                        class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span
                        class="p">,</span> <span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_hex</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rgb</span> <span class="o">=</span> <span
                        class="n">hex2rgb</span><span class="p">(</span><span class="n">value</span><span
                        class="p">)</span>

    <span class="n">set_hex_l</span> <span class="o">=</span> <span class="n">set_hex</span>

    <span class="k">def</span> <span class="nf">set_web</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hex</span> <span class="o">=</span> <span
                        class="n">web2hex</span><span class="p">(</span><span class="n">value</span><span
                        class="p">)</span>

    <span class="c1">## range of color generation</span>

    <span class="k">def</span> <span class="nf">range_to</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">,</span> <span class="n">value</span><span class="p">,</span> <span
                        class="n">steps</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">hsl</span> <span class="ow">in</span> <span
                        class="n">color_scale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span
                        class="n">_hsl</span><span class="p">,</span> <span class="n">Color</span><span
                        class="p">(</span><span class="n">value</span><span class="p">)</span><span
                        class="o">.</span><span class="n">hsl</span><span class="p">,</span> <span
                        class="n">steps</span> <span class="o">-</span> <span class="mi">1</span><span
                        class="p">):</span>
            <span class="k">yield</span> <span class="n">Color</span><span class="p">(</span><span
                        class="n">hsl</span><span class="o">=</span><span class="n">hsl</span><span class="p">)</span>

    <span class="c1">##</span>
    <span class="c1">## Convenience</span>
    <span class="c1">##</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span
                        class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span
                        class="o">.</span><span class="n">web</span>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;&lt;Color </span><span class="si">%s</span><span
                        class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="bp">self</span><span
                        class="o">.</span><span class="n">web</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span
                        class="p">,</span> <span class="n">Color</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span
                        class="n">equality</span><span class="p">(</span><span class="bp">self</span><span
                        class="p">,</span> <span class="n">other</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span
                        class="p">[</span><span class="mi">0</span><span class="p">]</span> <span
                        class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="c1">## Note: intended to be a backport of python 3 behavior</span>
        <span class="k">def</span> <span class="nf">__ne__</span><span class="p">(</span><span
                        class="bp">self</span><span class="p">,</span> <span class="n">other</span><span
                        class="p">):</span>
            <span class="n">equal</span> <span class="o">=</span> <span class="bp">self</span><span
                        class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span
                        class="n">other</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">equal</span> <span class="k">if</span> <span
                        class="n">equal</span> <span class="ow">is</span> <span class="bp">NotImplemented</span> <span
                        class="k">else</span> <span class="ow">not</span> <span class="n">equal</span>


<span class="n">RGB_equivalence</span> <span class="o">=</span> <span class="k">lambda</span> <span
                        class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span
                        class="p">:</span> <span class="n">c1</span><span class="o">.</span><span class="n">hex_l</span> <span
                        class="o">==</span> <span class="n">c2</span><span class="o">.</span><span
                        class="n">hex_l</span>
<span class="n">HSL_equivalence</span> <span class="o">=</span> <span class="k">lambda</span> <span
                        class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span
                        class="p">:</span> <span class="n">c1</span><span class="o">.</span><span class="n">_hsl</span> <span
                        class="o">==</span> <span class="n">c2</span><span class="o">.</span><span class="n">_hsl</span>


<span class="k">def</span> <span class="nf">make_color_factory</span><span class="p">(</span><span
                        class="o">**</span><span class="n">kwargs_defaults</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">ColorFactory</span><span class="p">(</span><span class="o">*</span><span
                        class="n">args</span><span class="p">,</span> <span class="o">**</span><span
                        class="n">kwargs</span><span class="p">):</span>
        <span class="n">new_kwargs</span> <span class="o">=</span> <span class="n">kwargs_defaults</span><span
                        class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">new_kwargs</span><span class="o">.</span><span class="n">update</span><span
                        class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Color</span><span class="p">(</span><span class="o">*</span><span
                        class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">new_kwargs</span><span
                        class="p">)</span>
    <span class="k">return</span> <span class="n">ColorFactory</span>
</pre>
                </div>

            </div>
        </div>
    </div>
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <div id="searchbox" style="display: none" role="search">
                <h3>Quick search</h3>
                <form class="search" action="../search.html" method="get">
                    <div><input type="text" name="q"/></div>
                    <div><input type="submit" value="Go"/></div>
                    <input type="hidden" name="check_keywords" value="yes"/>
                    <input type="hidden" name="area" value="default"/>
                </form>
            </div>
            <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
    </div>
    <div class="clearer"></div>
</div>
<div class="related" role="navigation" aria-label="related navigation">
    <h3>Navigation</h3>
    <ul>
        <li class="right" style="margin-right: 10px">
            <a href="../genindex.html" title="General Index"
            >index</a></li>
        <li class="right">
            <a href="../py-modindex.html" title="Python Module Index"
            >modules</a> |
        </li>
        <li class="nav-item nav-item-0"><a href="../index.html">SenseHAT Utility 0.1.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-1"><a href="index.html">Module code</a> &#187;</li>
    </ul>
</div>
<div class="footer" role="contentinfo">
    &#169; Copyright 2017, Aaron Fleming.
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.5.
</div>
</body>
</html>